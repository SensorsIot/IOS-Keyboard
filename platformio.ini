; PlatformIO Project Configuration File
; IOS-Keyboard - ESP32-C3 USB HID Keyboard with OTA
;
; Phase 1: HID disabled, OTA testing via USB Serial

[env:esp32c3]
platform = espressif32
board = esp32-c3-devkitm-1
framework = espidf

; Monitor settings (USB CDC)
monitor_speed = 115200

; Partition table for OTA (two app partitions)
board_build.partitions = partitions.csv

; Build flags
build_flags =
    -DCONFIG_APP_VERSION=\"1.0.0\"
    -DCONFIG_AP_SSID=\"IOS-Keyboard-Setup\"
    -DCONFIG_AP_MAX_CONNECTIONS=4
    -DCONFIG_LOG_BUFFER_SIZE=50
    -DCONFIG_TYPING_DELAY_MS=50

; ESP-IDF specific settings
board_build.flash_mode = dio
board_build.f_flash = 80000000L
board_build.flash_size = 4MB

; Use sdkconfig.defaults for additional ESP-IDF configuration
board_build.cmake_extra_args =
    -DSDKCONFIG_DEFAULTS=sdkconfig.defaults
